!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ractive")):"function"==typeof define&&define.amd?define(["ractive"],t):"object"==typeof exports?exports.RactiveModal=t(require("ractive")):e.RactiveModal=t(e.Ractive)}(window,function(n){return(r={},o.m=i=[function(e,t){e.exports=n},function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i);s.a.sharedSet({"rm.animating":void 0,"rm.delay":0}),t.default=s.a.extend({template:{v:4,t:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:["rm-backdrop ",{t:2,r:"bg_class"}," ",{t:2,r:"base_anim_class"}," ",{t:2,r:"bg_anim_class"}," backdrop-",{t:2,r:"modal_id"}],t:13},{n:"style",f:["z-index: ",{t:2,x:{r:["zindex"],s:"_0-1"}},";"],t:13}]}],n:50,r:"showbackdrop"},{t:4,f:[{t:7,e:"div",m:[{n:"class",f:["rm-wrapper ",{t:2,r:"base_anim_class"}," ",{t:2,r:"anim_class"}," ",{t:2,r:"modal_id"}],t:13},{n:"tabindex",f:"0",t:13,g:1},{n:"style",f:["opacity: ",{t:2,r:"opacity"},"; display: ",{t:2,r:"display"},"; z-index: ",{t:2,r:"zindex"},"; cursor: ",{t:2,x:{r:["enableclose"],s:'_0?"pointer":"default"'}}],t:13},{n:["click"],t:70,f:"clickoutside"},{n:["keydown"],t:70,f:"keydown"}],f:[{t:7,e:"div",m:[{n:"class",f:["rm ",{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13},{n:"role",f:"dialog",t:13,g:1},{n:"aria-label",f:[{t:2,r:"title"}],t:13},{n:"aria-modal",f:"true",t:13,g:1}],f:[{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"rm-titlebar",g:1}],f:[{t:7,e:"h3",m:[{t:13,n:"class",f:"rm-title",g:1}],f:[{t:2,r:"title"}]}," ",{t:4,f:[{t:7,e:"button",m:[{t:13,n:"class",f:"rm-btn-close",g:1},{n:"type",f:"button",t:13,g:1},{n:["click"],t:70,f:"close"}],f:["Ã—"]}],n:50,r:"enableclose"}]}],n:50,x:{r:["title","enableclose"],s:"_0||_1"}}," ",{t:7,e:"div",m:[{t:13,n:"class",f:"rm-content",g:1}],f:[{t:16}]}]}]}],n:50,r:"showmodal"}],e:{"_0-1":function(e){return e-1},'_0?"pointer":"default"':function(e){return e?"pointer":"default"},"_0||_1":function(e,t){return e||t}}},css:" .rm-backdrop {position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgba(0, 0, 0, 0.5);} .rm-wrapper {position: fixed; text-align: center; top: 0; right: 0; bottom: 0; left: 0; overflow-x: hidden; overflow-y: auto; display: none; outline: 0;} .rm {position: relative; display: inline-block; width:100%; text-align: left; color: #333333; background-color: #fff; top:30px; cursor: default; min-width: 110px; max-width: 500px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);} .rm-titlebar {padding:15px; color: #333; overflow: auto; border-bottom: 1px solid #e5e5e5;} .rm-title {margin-top:2px; margin-bottom: 0px; display: inline-block; font-size:1.25rem;} .rm-btn-close {padding: 0px 4px 0px 4px; cursor: pointer; background: 0 0; border: 0; font-weight:700; float: right; font-size: 1.5rem; line-height: 1; margin-right: -5px; color:#ccc;} .rm-btn-close:hover, .rm-btn-close:focus:hover{color:#6f6f6f; border-color: transparent; background-color: transparent;} .rm-btn-close:focus {color:#939393; border-color: transparent; background-color: transparent;} .rm-content {padding:15px 15px 15px 15px;} .rm-content .full-hr {width: auto; border: 0; border-top: 1px solid #e0e0e0; margin-top:15px; margin-bottom:15px; margin-left:-14px; margin-right:-14px;} .rm-fadeIn {-webkit-animation-name: rm-fadeIn; animation-name: rm-fadeIn;} @-webkit-keyframes rm-fadeIn {0% {opacity: 0} 100% {opacity: 1}} @keyframes rm-fadeIn {0% {opacity: 0} 100% {opacity: 1}} .rm-fadeOut {-webkit-animation-name: rm-fadeOut; animation-name: rm-fadeOut;} @-webkit-keyframes rm-fadeOut {0% {opacity: 1} 100% {opacity: 0}} @keyframes rm-fadeOut {0% {opacity: 1} 100% {opacity: 0}} .rm-fadeIn, .rm-fadeOut {-webkit-animation-duration: .25s; animation-duration: .25s; -webkit-animation-fill-mode: both; animation-fill-mode: both;}",data:function(){return{showmodal:!1,showbackdrop:!1,basedon:!1,live:!1,appendto:"",class:"",bg_class:"",base_anim_class:"",anim_class:"",bg_anim_class:"",bg_in_class:"rm-fadeIn",bg_out_class:"rm-fadeOut",in_class:"rm-fadeIn",out_class:"rm-fadeOut",style:"",title:"",modal_id:this._guid+"_rm",enableclose:!0,base_zindex:1051,opacity:0,display:"none",zindex:0}},delegate:!1,elToFocus:null,on:{close:function(e){e.original.preventDefault(),this.get("enableclose")&&this.set("basedon",!1)},clickoutside:function(e){e.original.target===e.node&&this.fire("close",e)},keydown:function(e){var t=e.original;if(27===t.which&&this.fire("close",e),9===t.which){var n=this.findAll("input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), a").filter(function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)});t.shiftKey?t.target!==n[0]&&t.target!==this.find(".rm-wrapper")||(t.preventDefault(),n[n.length-1].focus()):t.target===n[n.length-1]&&(t.preventDefault(),n[0].focus())}}},onconfig:function(){this.get("live")&&this.set("showmodal",!0)},onrender:function(){var a=this.get("modal_id");this.observe_basedon=this.observe("basedon",function(e,t,n){var o=this.get("live");if(!0===e){if(document.querySelector("."+a)&&"block"===document.querySelector("."+a).style.display)return;this.elToFocus=document.activeElement,this.fire("beforeOpen");var i=this.getTopZindex(),r=0===i?this.get("base_zindex"):i+2;o||this.set("showmodal",!0),this.insert(this.get("appendto")?document.querySelector(this.get("appendto")):this.root.el),this.set({display:"block",zindex:r}),this.fire("opening"),this.animateModal("in").then(function(){this.handleFocus(this.find(".rm-wrapper")),this.fire("afterOpen")}.bind(this))}else{if(!document.querySelector("."+a)||"block"!==document.querySelector("."+a).style.display)return;this.fire("beforeClose"),this.animateModal("out").then(function(){this.set({display:"none",zindex:0}),o||this.set("showmodal",!1),this.fire("afterClose");var e=this.getTopZindex();if(0<e){for(var t=document.querySelectorAll(".rm-wrapper"),n=0;n<t.length;n++)if(t[n].style.zIndex==e){var i=s.a.getContext(t[n]).ractive;i.find(".rm-wrapper").contains(this.elToFocus)?this.elToFocus.focus():this.handleFocus(i.find(".rm-wrapper"));break}}else document.body.contains(this.elToFocus)&&this.elToFocus.focus()}.bind(this))}},{defer:!0})},onunrender:function(){this.observe_basedon.cancel()},handleFocus:function(e){var t=e.querySelector("[autofocus]");if(t)t.focus();else{var n=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n.length?n[0].focus():e.focus()}},animateModal:function(i){return new Promise(function(t,e){var n=function(e){this.find(".rm-wrapper").removeEventListener("animationend",n),this.set({anim_class:"",bg_anim_class:"","@shared.rm.animating":void 0,"@shared.rm.delay":0}),"out"==i&&this.set({showbackdrop:!1,opacity:0}),t()}.bind(this);this.find(".rm-wrapper").addEventListener("animationend",n),"object"==typeof this.get("@shared.rm.animating")&&this.set("@shared.rm.delay",this.get("@shared.rm.delay")+this.getAnimationDuration(this.get("@shared.rm.animating").find(".rm-wrapper"))+100),this.set("@shared.rm.animating",this),setTimeout(function(){"in"==i&&this.set({showbackdrop:!0,opacity:1}),this.set({anim_class:this.get(i+"_class"),bg_anim_class:this.get("bg_"+i+"_class")})}.bind(this),this.get("@shared.rm.delay"))}.bind(this))},getTopZindex:function(){for(var e=0,t=document.querySelectorAll(".rm-wrapper"),n=0;n<t.length;n++)e=parseInt(t[n].style.zIndex)>e?parseInt(t[n].style.zIndex):e;return e},getAnimationDuration:function(e){var t=window.getComputedStyle(e,null)["animation-duration"];return-1!==t.indexOf("ms")?parseFloat(t.replace("ms","")):1e3*parseFloat(t.replace("s",""))}})}],o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)).default;function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var i,r});